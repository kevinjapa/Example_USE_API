<!-- <p>empleado works!</p> -->

<div class="row">
  <div class="col-md-4">
    <div class="card">
      <div class="card-body">
        <h1>{{ empleadoService.selectedEmpleado._id ? 'Actualizar Empleado' : 'Registro de Nuevo Empleado' }}</h1>
            <form #empleadoForm="ngForm" (ngSubmit)="empleadoService.selectedEmpleado._id ? updateEmpleado(empleadoForm) : addEmpleado(empleadoForm)">
                <div class="form-group mb-3">
                    <input type="text" class="form-control" placeholder="Ingrese su nombre"
                    [(ngModel)]="empleadoService.selectedEmpleado.nombre" name="nombre" required>
                </div>
                <div class="form-group mb-3">
                    <input type="text" class="form-control" placeholder="Ingrese su cargo"
                    [(ngModel)]="empleadoService.selectedEmpleado.cargo" name="cargo" required>
                </div>
                <div class="form-group mb-3">
                    <input type="text" class="form-control" placeholder="Ingrese su departamento"
                    [(ngModel)]="empleadoService.selectedEmpleado.departamento" name="departamento" required>
                </div>
                <div class="form-group mb-3">
                    <input type="number" class="form-control" placeholder="Ingrese su sueldo"
                    [(ngModel)]="empleadoService.selectedEmpleado.sueldo" name="sueldo" required>
                </div>
                <div class="form-group mb-3">
                  <button type="submit" class="btn btn-primary me-2">
                    {{ empleadoService.selectedEmpleado._id ? 'Actualizar' : 'Crear' }}
                  </button>
                  <button type="button" class="btn btn-secondary" (click)="resetForm()" *ngIf="empleadoService.selectedEmpleado._id">
                    Cancelar
                  </button>
                </div>
            </form>
      </div>
    </div>
  </div>

  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <h2>Lista de Empleados</h2>
        <table class="table table-striped table-hover">
          <thead class="table-dark">
            <tr>
              <th>Nombre</th>
              <th>Cargo</th>
              <th>Departamento</th>
              <th>Sueldo</th>
              <th>Operaciones</th>
            </tr>
          </thead>
          <tbody>
              <tr *ngFor="let empleado of empleadoService.empleados">
                  <td>{{empleado.nombre}}</td>
                  <td>{{empleado.cargo}}</td>
                  <td>{{empleado.departamento}}</td>
                  <td>${{empleado.sueldo | number}}</td>
                  <td>
                    <button class="btn btn-warning btn-sm me-2" 
                            (click)="editEmpleado(empleado)" 
                            title="Editar empleado">
                      <i class="fas fa-edit"></i> Editar
                    </button>
                    <button class="btn btn-danger btn-sm" 
                            (click)="deleteEmpleado(empleado._id!)" 
                            title="Eliminar empleado">
                      <i class="fas fa-trash"></i> Eliminar
                    </button>
                  </td>
              </tr>
              <tr *ngIf="empleadoService.empleados.length === 0">
                <td colspan="5" class="text-center text-muted">
                  No hay empleados registrados
                </td>
              </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
